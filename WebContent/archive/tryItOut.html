<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description"
	content="The BD2K PIC-SURE IRCT-UI provides a set of reusable components that interact with the IRCT application.">
<meta name="author" content="Jeremy R. Easton-Marks">
<link rel="icon" href="../../favicon.ico">

<title>BD2K PIC-SURE RESTful API</title>

<!-- Bootstrap core CSS -->
<link href="./lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!-- Roboto Font -->
<link href='https://fonts.googleapis.com/css?family=Roboto'
	rel='stylesheet' type='text/css'>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<!-- Custom styles for this template -->
<link href="./css/carousel.css" rel="stylesheet">
</head>
<!-- NAVBAR -->
<body>
	<nav class="navbar navbar-irct navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#navbar" aria-expanded="false"
					aria-controls="navbar">
				</button>
				<a class="navbar-brand" href="./">BD2K PIC-SURE RESTful API</a>
			</div>
		</div>
	</nav>
	 <div class="container">
      <div class="row">
        <div class="col-lg-12">
        	<h3>Example</h3>
        	<p>Download all the variants found in the ExAC resource for the TITF1 gene.</p>
        	<p><b>Example curl command</b></p>
        	<code>curl -c cookies.txt -b cookies.txt "http://bd2k-picsure.hms.harvard.edu/IRCT-CL/rest/queryRESTService/startQuery"</code>
        	<p>The curl command requires the use of the <i>-b</i> and <i>-c</i> flags in order to maintain session state between calls.</p>
        	
        	<table class="table table-bordered">
        		<tr>
        			<th>Step</th>
        			<th>Command</th>
        			<th>Example Output</th>
        		</tr>
        		<tr>
        			<td>Start a query</td>
        			<td>
        				<code>/IRCT-CL/rest/queryRESTService/startQuery</code>
        			</td>
        			<td>
        				<code>{"status":"OK","cid":"2","version":"1.0"}</code>
        			</td>
        		</tr>
        		<tr>
        			<td>Add where clause</td>
        			<td>
        				<p>Replace the &lt;CID> with the cid number that was returned from your startQuery command.</p>
        				<code>/IRCT-CL/rest/queryRESTService/whereClause?type=where&field=ExAC%2Fgene%2Fvariants_in_gene&logicalOperator=AND&predicate=BYQUERY&data-query=titf1&cid=&ltCID></code>
        			</td>
        			<td>
        				<code>{"status":"OK","clauseId":0}</code>
        			</td>
        		</tr>
        		<tr>
        			<td>Run Query</td>
        			<td>
        				<p>Replace the &lt;CID> with the cid number that was returned from your startQuery command.</p>
        				<code>/IRCT-CL/rest/queryRESTService/runQuery?cid=&ltCID></code>
        			</td>
        			<td>
        				<code>{"resultId":52}</code>
        			</td>
        		</tr>
        		<tr>
        			<td>Download Results</td>
        			<td>
        				<p>Replace the &lt;RESULT_ID> with the result id number that was returned from your runQuery command.</p>
        				<code>/IRCT-CL/rest/resultService/download/csv/&lt;RESULT_ID></code>
        			</td>
        			<td>
        				The results will be downloaded in CSV format
        			</td>
        		</tr>
			</table>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
         To explore further you can use our development UI.
         <p><a class="btn btn-primary btn-lg" href="./irct/" role="button">Development UI&raquo;</a></p>
        </div>
      </div>
      <hr>
	<!-- FOOTER -->
		<footer>
			<p class="pull-right">
				<a href="#">Back to top</a>
			</p>
		</footer>

	</div>
	<!-- /.container -->


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="./lib/jQuery/jquery-2.1.4.min.js"></script>
	<script src="./lib/bootstrap/js/bootstrap.min.js"></script>
</body>
</html>